import{_ as r,r as t,o as d,c as i,b as e,a as o,w as l,d as n,e as c}from"./app.30d3d712.js";const p={},u=e("h1",{id:"\u90E8\u7F72node-js-app\u670D\u52D9\u5230-google-cloud-run",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#\u90E8\u7F72node-js-app\u670D\u52D9\u5230-google-cloud-run","aria-hidden":"true"},"#"),n(" \u90E8\u7F72node.js app\u670D\u52D9\u5230 Google Cloud Run")],-1),h={class:"table-of-contents"},g=c(`<p>\u4E4B\u524D\u4F7F\u7528\u7684Heroku\u8A17\u7BA1\u7684node.js app\u670D\u52D9\u5DF2\u7D93\u7D42\u6B62\u514D\u8CBB\u65B9\u6848\uFF0C\u9019\u6B21\u5617\u8A66\u5C07line-bot\u9019\u5305\u57F7\u884C\u5728Cloud Run\u3002</p><h2 id="\u4F7F\u7528google-cloud-cli" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528google-cloud-cli" aria-hidden="true">#</a> \u4F7F\u7528Google Cloud CLI</h2><p>\u53C3\u7167\u5B98\u65B9\u6559\u5B78\uFF0C\u5728\u4E0B\u8F09\u597DCloud CLI\u5F8C\u8981\u57F7\u884Cinstall.sh\u8173\u672C\u4F86\u5B89\u88DD\u3002 <img src="https://i.imgur.com/BmCTrHO.png" alt=""></p><div class="language-shell= ext-shell= line-numbers-mode"><pre class="language-shell="><code>sh install.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u5C0D\u61C9\u57F7\u884Capp\u670D\u52D9\u7684npm\u8173\u672C" tabindex="-1"><a class="header-anchor" href="#\u5C0D\u61C9\u57F7\u884Capp\u670D\u52D9\u7684npm\u8173\u672C" aria-hidden="true">#</a> \u5C0D\u61C9\u57F7\u884Capp\u670D\u52D9\u7684npm\u8173\u672C</h2><p>\u5728\u5B98\u65B9\u7BC4\u4F8B\u4E2D\uFF0C\u662F\u9810\u8A2D<strong>npm run start</strong>\u4F86\u57F7\u884C\u3002\u6240\u4EE5\u5728\u5C08\u6848\u4E2D\u7684package.json\u4E2D\uFF0C\u9700\u8981\u52A0\u4E0A\u5982\u4E0B\u3002</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    ...<span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node index.js&quot;</span> <span class="token comment">//\u9032\u5165\u9EDE\u7684js</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u6DFB\u52A0dockerfile\u7684\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u6DFB\u52A0dockerfile\u7684\u914D\u7F6E" aria-hidden="true">#</a> \u6DFB\u52A0Dockerfile\u7684\u914D\u7F6E</h2><p>\u5728\u5B98\u7DB2\u6587\u4EF6\u4E2D\uFF0C\u4E26\u6C92\u6709\u660E\u78BA\u63D0\u793A\u8981\u914D\u7F6E\uFF0C\u4F46\u5728\u5BE6\u969B\u90E8\u7F72\u5F8C\u6703\u6709\u932F\u8AA4\u63D0\u793A\u6709\u95DC\u7121\u6CD5\u5C0D\u61C9\u5230\u90E8\u7F72\u5F8C\u76848080port\u3002\u76EE\u524D\u731C\u6E2C\u662FCloud Run\u7684\u90E8\u7F72\u9810\u8A2D\u662F\u8D70Docker Container\u7684\u65B9\u5F0F\uFF0C\u8981\u8A2A\u554F\u6703\u9700\u8981\u5148\u6709Docker Image\u7684\u914D\u7F6E\u3002</p><p><img src="https://i.imgur.com/idFaf6t.png" alt=""></p><h2 id="\u5728\u5C08\u6848\u76EE\u9304\u57F7\u884Ccli\u90E8\u7F72\u6307\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u5728\u5C08\u6848\u76EE\u9304\u57F7\u884Ccli\u90E8\u7F72\u6307\u4EE4" aria-hidden="true">#</a> \u5728\u5C08\u6848\u76EE\u9304\u57F7\u884CCLI\u90E8\u7F72\u6307\u4EE4</h2><ul><li><p>\u521D\u59CB\u5316\uFF1A\u9700\u8981\u5728Google Cloud Run\u5F8C\u53F0\u5148\u5EFA\u7ACB\u5C08\u6848</p></li><li><p>\u90E8\u7F72\uFF1A\u6703\u6709\u4E00\u500B\u5C0D\u61C9\u7684\u554F\u7B54(\u670D\u52D9\u540D\u7A31\u3001\u9078\u64C7\u90E8\u7F72\u5340\u57DF)</p></li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>gcloud init <span class="token comment">## \u521D\u59CB\u5316</span>

gcloud run deploy <span class="token comment">## \u90E8\u7F72</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,13),m={href:"https://cloud.google.com/run/docs/deploying-source-code?hl=zh-cn",target:"_blank",rel:"noopener noreferrer"},_=e("strong",null,"\u5176\u4ED6\u90E8\u7F72\u65B9\u5F0F",-1),f=e("h2",{id:"\u6551\u6D3B\u7684\u8C46\u76AE\u983B\u9053",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#\u6551\u6D3B\u7684\u8C46\u76AE\u983B\u9053","aria-hidden":"true"},"#"),n(" \u6551\u6D3B\u7684\u8C46\u76AE\u983B\u9053")],-1),b={href:"https://line-bot-dopee-zhy7lseifa-an.a.run.app/",target:"_blank",rel:"noopener noreferrer"},k={href:"https://console.cloud.google.com/run/detail/asia-northeast1/line-bot-dopee/metrics?project=line-bot-380902",target:"_blank",rel:"noopener noreferrer"},v=e("h2",{id:"\u76F8\u95DC\u8CC7\u6E90",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#\u76F8\u95DC\u8CC7\u6E90","aria-hidden":"true"},"#"),n(" \u76F8\u95DC\u8CC7\u6E90")],-1),C={href:"https://github.com/GoogleCloudPlatform/nodejs-docs-samples/tree/4000d1a341cbfcec12cc433c10b11d3fbd1a59df/run/helloworld",target:"_blank",rel:"noopener noreferrer"},x={href:"https://cloud.google.com/run/docs/quickstarts/build-and-deploy/deploy-nodejs-service?hl=zh-cn#whats-next",target:"_blank",rel:"noopener noreferrer"},j={href:"https://cloud.google.com/sdk/docs/install",target:"_blank",rel:"noopener noreferrer"};function I(R,y){const a=t("router-link"),s=t("ExternalLinkIcon");return d(),i("div",null,[u,e("nav",h,[e("ul",null,[e("li",null,[o(a,{to:"#\u4F7F\u7528google-cloud-cli"},{default:l(()=>[n("\u4F7F\u7528Google Cloud CLI")]),_:1})]),e("li",null,[o(a,{to:"#\u5C0D\u61C9\u57F7\u884Capp\u670D\u52D9\u7684npm\u8173\u672C"},{default:l(()=>[n("\u5C0D\u61C9\u57F7\u884Capp\u670D\u52D9\u7684npm\u8173\u672C")]),_:1})]),e("li",null,[o(a,{to:"#\u6DFB\u52A0dockerfile\u7684\u914D\u7F6E"},{default:l(()=>[n("\u6DFB\u52A0Dockerfile\u7684\u914D\u7F6E")]),_:1})]),e("li",null,[o(a,{to:"#\u5728\u5C08\u6848\u76EE\u9304\u57F7\u884Ccli\u90E8\u7F72\u6307\u4EE4"},{default:l(()=>[n("\u5728\u5C08\u6848\u76EE\u9304\u57F7\u884CCLI\u90E8\u7F72\u6307\u4EE4")]),_:1})]),e("li",null,[o(a,{to:"#\u6551\u6D3B\u7684\u8C46\u76AE\u983B\u9053"},{default:l(()=>[n("\u6551\u6D3B\u7684\u8C46\u76AE\u983B\u9053")]),_:1})]),e("li",null,[o(a,{to:"#\u76F8\u95DC\u8CC7\u6E90"},{default:l(()=>[n("\u76F8\u95DC\u8CC7\u6E90")]),_:1})])])]),g,e("p",null,[n("\u9019\u88E1\u7684\u6307\u4EE4\u9084\u6709\u76F8\u95DC\u53C3\u6578\u53EF\u4EE5\u914D\u5408"),e("a",m,[_,o(s)]),n("\u4F7F\u7528\u3002")]),f,e("p",null,[e("a",b,[n("https://line-bot-dopee-zhy7lseifa-an.a.run.app/"),o(s)])]),e("p",null,[e("a",k,[n("Cloud Run\u76E3\u63A7\u670D\u52D9\u7684\u5F8C\u53F0"),o(s)])]),v,e("p",null,[e("a",C,[n("\u90E8\u7F72node.js GCR\u5B98\u65B9\u7BC4\u4F8B\u7A0B\u5F0F\u78BC"),o(s)])]),e("p",null,[e("a",x,[n("\u90E8\u7F72node.js GCR\u5B98\u65B9\u6587\u4EF6"),o(s)])]),e("p",null,[e("a",j,[n("\u5B89\u88DDgcloud CLI"),o(s)])])])}const q=r(p,[["render",I],["__file","googleCloudRun.html.vue"]]);export{q as default};
