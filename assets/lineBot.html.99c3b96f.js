import{_ as l,r as p,o as c,c as i,b as n,a,w as o,d as s,e as r}from"./app.d9717a8a.js";const u={},d=n("h1",{id:"linebot-api\u4E32\u63A5",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#linebot-api\u4E32\u63A5","aria-hidden":"true"},"#"),s(" LineBot API\u4E32\u63A5")],-1),k={class:"table-of-contents"},h=n("br",null,null,-1),b={href:"https://line-bot-doope.herokuapp.com/",target:"_blank",rel:"noopener noreferrer"},m={href:"https://line-bot-doope.herokuapp.com/api-docs/#/",target:"_blank",rel:"noopener noreferrer"},_=r(`<h2 id="message-hook" tabindex="-1"><a class="header-anchor" href="#message-hook" aria-hidden="true">#</a> Message Hook</h2><div class="custom-container tip"><p class="custom-container-title">info</p><p>1.\u5B98\u65B9\u7BC4\u4F8B\u662F\u555F\u4E00\u500Bexpress app\u61C9\u4F86\u4E26\u4E14\u76E3\u807Dhttps\u7684Post /callback\uFF0C\u4F86\u63A5\u6536\u5B98\u65B9line\u6240\u6536\u5230\u7684\u8A0A\u606F\u3002 2.\u4E32\u63A5line bot message API \u9700\u8981\u4F7F\u7528https\u9023\u7DDA\u65B9\u5F0F \u672C\u5730\u958B\u767C\u6642\uFF0C\u501F\u52A9ngrok\u53EF\u4EE5\u5EFA\u7ACB\u4E00\u500B\u5C0D\u5916\u7684https url \u6307\u5411\u7D66\u672C\u5730\u7684\u670D\u52D9\u5C0D\u5916\u4F7F\u7528</p></div><h2 id="line-bot-sdk\u6A21\u7D44\u8207\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#line-bot-sdk\u6A21\u7D44\u8207\u4F7F\u7528" aria-hidden="true">#</a> line bot sdk\u6A21\u7D44\u8207\u4F7F\u7528</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> line <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@line/bot-sdk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">channelAccessToken</span><span class="token operator">:</span> <span class="token string">&quot;\u4F86\u81EAline developer&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">channelSecret</span><span class="token operator">:</span> <span class="token string">&quot;\u4F86\u81EAline developer&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">line<span class="token punctuation">.</span>Client</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u6B64client\u7269\u4EF6\u53EF\u7528\u4F86\u56DE\u50B3\u8A0A\u606F</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u76E3\u807D-post-callback" tabindex="-1"><a class="header-anchor" href="#\u76E3\u807D-post-callback" aria-hidden="true">#</a> \u76E3\u807D Post /callback</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/callback&quot;</span><span class="token punctuation">,</span> line<span class="token punctuation">.</span><span class="token function">middleware</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>events<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>handleEvent<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
      res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">info</p><p>\u7576\u6709line\u8A0A\u606F\u50B3\u7D66\u5B98\u65B9line\u5F8C\uFF0C\u9700\u8981\u5728line developer\u8A2D\u5B9A\u8A2D\u6709\u76E3\u807D\u670D\u52D9\u7684\u5730\u5740 \u672C\u6B21\u5BE6\u4F5C\u7684\u4F8B\u5B50 Webhook URL \u662F\u8A2D\u7F6E\u70BA https://line-bot-doope.herokuapp.com/callback</p></div><h2 id="\u5716\u7247\u63A8\u64AD" tabindex="-1"><a class="header-anchor" href="#\u5716\u7247\u63A8\u64AD" aria-hidden="true">#</a> \u5716\u7247\u63A8\u64AD</h2><p>\u53C3\u8003\u5B98\u65B9Message API \u6587\u4EF6\u7684\u5716\u7247\u8A0A\u606F\u683C\u5F0F\uFF0C\u53EF\u4EE5\u52A0\u5165\u975C\u614B\u8CC7\u6E90(\u5716\u7247)\u7684url \u540C\u5728express app \u505Ahttp GET\u7684\u76E3\u807D\uFF0C\u4E26\u5229\u7528express app\u7684res.sendFile()\u50B3\u9001\u5716\u6A94</p><div class="custom-container tip"><p class="custom-container-title">info</p><p>\u5229\u7528nodeJS \u67B6\u8A2D\u80FD\u63D0\u4F9B\u975C\u614B\u8CC7\u6E90\u670D\u52D9\u7684\u61C9\u7528</p></div>`,10),v={href:"http://expressjs.com/en/api.html#res.sendFile",target:"_blank",rel:"noopener noreferrer"},f=n("hr",null,null,-1),g=n("h2",{id:"\u9023\u7D50",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u9023\u7D50","aria-hidden":"true"},"#"),s(" \u9023\u7D50")],-1),x={href:"https://github.com/lian0103/line-bot-dopee",target:"_blank",rel:"noopener noreferrer"},E={href:"https://manager.line.biz/account/@928wyrpi",target:"_blank",rel:"noopener noreferrer"},B={href:"https://developers.line.biz/console/channel/1656497673/basics",target:"_blank",rel:"noopener noreferrer"},A={href:"https://medium.com/pyradise/%E4%BD%BF%E7%94%A8node-js%E5%BB%BA%E7%BD%AE%E4%BD%A0%E7%9A%84%E7%AC%AC%E4%B8%80%E5%80%8Bline-bot-590b7ba7a28a",target:"_blank",rel:"noopener noreferrer"},j={href:"https://dashboard.ngrok.com/get-started/setup",target:"_blank",rel:"noopener noreferrer"},q={href:"https://github.com/line/line-bot-sdk-nodejs/tree/next/examples/echo-bot",target:"_blank",rel:"noopener noreferrer"};function y(P,I){const t=p("router-link"),e=p("ExternalLinkIcon");return c(),i("div",null,[d,n("nav",k,[n("ul",null,[n("li",null,[a(t,{to:"#message-hook"},{default:o(()=>[s("Message Hook")]),_:1})]),n("li",null,[a(t,{to:"#line-bot-sdk\u6A21\u7D44\u8207\u4F7F\u7528"},{default:o(()=>[s("line bot sdk\u6A21\u7D44\u8207\u4F7F\u7528")]),_:1})]),n("li",null,[a(t,{to:"#\u76E3\u807D-post-callback"},{default:o(()=>[s("\u76E3\u807D Post /callback")]),_:1})]),n("li",null,[a(t,{to:"#\u5716\u7247\u63A8\u64AD"},{default:o(()=>[s("\u5716\u7247\u63A8\u64AD")]),_:1})]),n("li",null,[a(t,{to:"#\u9023\u7D50"},{default:o(()=>[s("\u9023\u7D50")]),_:1})])])]),n("p",null,[s("\u4F7F\u7528nodeJS \u548C Express \u5957\u4EF6\u67B6\u8A2D\u57FA\u790E\u7684http\u670D\u52D9\u3002\u4E26\u4E32\u63A5line-bot message API\u3002 \u5BE6\u4F5C\u529F\u80FD:line\u5B98\u65B9\u5E33\u865F\u8A0A\u606F\u56DE\u8986\u548C\u7D00\u9304\u3001\u63A8\u64AD\u6587\u5B57\u548C\u5716\u7247\u8A0A\u606F\u3002"),h,n("a",b,[s("demo"),a(e)])]),n("p",null,[n("a",m,[s("API docs"),a(e)])]),_,n("p",null,[n("a",v,[s("express API \u5B98\u65B9\u6587\u4EF6 res.sendFile"),a(e)])]),f,g,n("p",null,[n("a",x,[s("\u5B8C\u6574\u7A0B\u5F0F\u78BC"),a(e)])]),n("p",null,[n("a",E,[s("\u8C46\u76AE\u5B98\u65B9line \u7BA1\u7406\u53F0"),a(e)])]),n("p",null,[n("a",B,[s("line developer //\u958B\u767C\u8005\u7BA1\u7406API\u670D\u52D9"),a(e)])]),n("p",null,[n("a",A,[s("\u4F7F\u7528Node.js\u5EFA\u7F6E\u4F60\u7684\u7B2C\u4E00\u500BLINE BOT"),a(e)]),n("a",j,[s("\u8B93\u672C\u5730https \u670D\u52D9\u6307\u5411localhost:port"),a(e)])]),n("p",null,[n("a",q,[s("\u5B98\u65B9line bot nodeJS\u7BC4\u4F8B"),a(e)])])])}const N=l(u,[["render",y],["__file","lineBot.html.vue"]]);export{N as default};
