import{_ as e,r as o,o as p,c,a as n,d as s,b as t,e as i}from"./app.17b384ce.js";const l={},u=i(`<h1 id="js-event-loop-\u8907\u7FD2" tabindex="-1"><a class="header-anchor" href="#js-event-loop-\u8907\u7FD2" aria-hidden="true">#</a> JS event loop \u8907\u7FD2</h1><p>\u6839\u64DA ChatGPT \u7684\u5B9A\u7FA9\uFF0C<strong>JavaScript event loop \u662F\u78BA\u4FDD\u975E\u540C\u6B65\u64CD\u4F5C\u7684\u9806\u5229\u9032\u884C\u7684\u6A5F\u5236\uFF0C\u5B83\u901A\u904E\u8655\u7406\u4E8B\u4EF6\u968A\u5217\u4E2D\u7684\u56DE\u8ABF\u51FD\u6578\u4F86\u78BA\u4FDD\u5728\u55AE\u7DDA\u7A0B\u4E0B\u907F\u514D\u963B\u585E\uFF0C\u4F7F\u5F97 JavaScript \u53EF\u4EE5\u8655\u7406\u5927\u91CF\u7684\u975E\u540C\u6B65\u4EFB\u52D9</strong></p><h2 id="\u4E8B\u4EF6\u968A\u5217" tabindex="-1"><a class="header-anchor" href="#\u4E8B\u4EF6\u968A\u5217" aria-hidden="true">#</a> \u4E8B\u4EF6\u968A\u5217</h2><p>\u6240\u4EE5\u7406\u8AD6\u4E0A\uFF0C\u5728\u5217\u968A\u88E1\u6703\u88AB\u653E\u5165\u7B49\u5F85\u8655\u7406\u7684\u975E\u540C\u6B65\u64CD\u4F5C\uFF0C\u50CF\u662F setTimeout\u3001setInterval\u3001http request\u3001Promise\u3001async await \u7B49\uFF0C\u9019\u4E9B\u76F8\u61C9\u7684 callback funtion(cb)\u6703\u88AB\u52A0\u5165\u5230\u5217\u968A\u4E2D\uFF0C\u4F86\u7B49\u5F85\u57F7\u884C\u3002</p><h2 id="\u4E8B\u4EF6\u5217\u968A\u7BC4\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u4E8B\u4EF6\u5217\u968A\u7BC4\u4F8B" aria-hidden="true">#</a> \u4E8B\u4EF6\u5217\u968A\u7BC4\u4F8B</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;context start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u4EFB\u52D9\u4E8C</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u4EFB\u52D9\u4E00</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u4EFB\u52D9\u4E09</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;context end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u57F7\u884C\u7D50\u679C</span>
<span class="token comment">// context start</span>
<span class="token comment">// context end</span>
<span class="token comment">// 1</span>
<span class="token comment">// 2</span>
<span class="token comment">// 3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5F9E\u57F7\u884C\u7D50\u679C\u4F86\u770B\uFF0Cjs \u7684\u55AE\u7DDA\u7A0B(Single-threaded)\uFF0C\u5B83\u7531\u6587\u672C(context)\u5F9E\u4E0A\u800C\u4E0B\uFF0C\u4F9D\u5E8F\u7684\u52D5\u4F5C\u662F:<br> 1.\u5370\u51FA&quot;context start&quot;<br> 2.\u628A setTimeout \u5230 cb(<strong>\u5B8F\u4EFB\u52D9</strong>)\u653E\u5230\u4E8B\u4EF6\u5217\u968A<br> 3.\u628A resolve().then \u5230 cb(<strong>\u5FAE\u4EFB\u52D9</strong>)\u653E\u5230\u4E8B\u4EF6\u5217\u968A<br> 4.\u628A setTimeout \u5230 cb(<strong>\u5B8F\u4EFB\u52D9</strong>)\u653E\u5230\u4E8B\u4EF6\u5217\u968A<br> 5.\u5370\u51FA&quot;context end&quot;<br> \u76EE\u524D\u7684\u4E8B\u4EF6\u5217\u968A: [\u4EFB\u52D9\u4E8C(\u5B8F\u4EFB\u52D9)\u3001\u4EFB\u52D9\u4E00(\u5FAE\u4EFB\u52D9)\u3001\u4EFB\u52D9\u4E09(\u5B8F\u4EFB\u52D9)]<br> 6.\u4F9D<strong>\u512A\u5148\u5E8F</strong>\u57F7\u884C\u4E8B\u4EF6\u5217\u968A<br> ChatGPT:<strong>\u5FAE\u4EFB\u52D9\u7684\u57F7\u884C\u512A\u5148\u9806\u5E8F\u8981\u9AD8\u65BC\u5B8F\u4EFB\u52D9</strong>\uFF0C\u4E5F\u5C31\u662F\u8AAA\uFF0C\u7576\u4E3B\u57F7\u884C\u7DD2\u7A7A\u9592\u6642\uFF0C\u6703\u512A\u5148\u57F7\u884C\u5FAE\u4EFB\u52D9\uFF0C\u76F4\u5230\u5FAE\u4EFB\u52D9\u968A\u5217\u70BA\u7A7A\uFF0C\u624D\u6703\u7E7C\u7E8C\u57F7\u884C\u5B8F\u4EFB\u52D9\u3002\u9019\u7A2E\u5340\u5206\u6709\u52A9\u65BC\u907F\u514D\u9577\u6642\u9593\u904B\u884C\u7684\u5B8F\u4EFB\u52D9\u963B\u585E\u4E3B\u57F7\u884C\u7DD2\uFF0C\u78BA\u4FDD\u7DB2\u9801\u7684\u97FF\u61C9\u6027\u80FD\u3002</p><p>6-1 \u5370\u51FA&quot;1&quot; // \u4EFB\u52D9\u4E00<br> 6-2 \u5370\u51FA&quot;2&quot; // \u4EFB\u52D9\u4E8C<br> 6-3 \u5370\u51FA&quot;3&quot; // \u4EFB\u52D9\u4E09</p><p>\u53E6\u4E00\u500B\u7BC4\u4F8B\uFF0C\u591A\u500B\u5FAE\u4EFB\u52D9\u8207\u591A\u500B\u5B8F\u4EFB\u52D9</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  i<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;in setTimeout&quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;in resolve&quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// start</span>
<span class="token comment">// end</span>
<span class="token comment">// in resolve 5</span>
<span class="token comment">// in resolve 5</span>
<span class="token comment">// in resolve 5</span>
<span class="token comment">// in resolve 5</span>
<span class="token comment">// in resolve 5</span>
<span class="token comment">// in setTimeout 5</span>
<span class="token comment">// in setTimeout 5</span>
<span class="token comment">// in setTimeout 5</span>
<span class="token comment">// in setTimeout 5</span>
<span class="token comment">// in setTimeout 5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr>`,11),r=n("br",null,null,-1),k={href:"https://juejin.cn/post/7258952063219384376",target:"_blank",rel:"noopener noreferrer"},d=n("br",null,null,-1),v={href:"https://juejin.cn/post/7260059106764963897",target:"_blank",rel:"noopener noreferrer"};function m(b,g){const a=o("ExternalLinkIcon");return p(),c("div",null,[u,n("p",null,[s("\u76F8\u95DC\u6587\u7AE0"),r,n("a",k,[s("\u6211\u5165\u804C\u4E86"),t(a)]),d,n("a",v,[s("\u662F\u5B8F\u4EFB\u52A1\u5148\u6267\u884C\u8FD8\u662F\u5FAE\u4EFB\u52A1\uFF1F-\u6398\u91D1"),t(a)])])])}const f=e(l,[["render",m],["__file","eventLoop.html.vue"]]);export{f as default};
